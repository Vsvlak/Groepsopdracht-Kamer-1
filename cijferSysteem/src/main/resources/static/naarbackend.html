<!DOCTYPE html>
<html lang="en">
<head>

    <script src="moment.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .mooi{
            background-color: white;
        }
    
    </style>
    <script>
        function herewego(){
        
        document.getElementById("leerlingOproep").innerHTML = ""; 
    
            let xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function (){
                console.log(xhr.readyState);
               // document.getElementById("eenofander").innerHTML = this.responseText; // misschien lelijk
                if (xhr.readyState == 3){
                    var alleinfo = JSON.parse(this.responseText);
                    for(var x = 0; x < alleinfo.length ; x++){
                        //document.getElementById("leerlingOproep").innerHTML += "<div class=mooi>"+alleinfo[x].id + " " + alleinfo[x].naam+" " + moment(alleinfo[x].geboorteDatum).format('DD-MM-YYYY') + " " + alleinfo[x].leerlingnummer   +"</div>";
                    document.getElementById("tabel").innerHTML += "<tr>"+
                    
                    "<td>"+alleinfo[x].id+"</td>"+
                    "<td>"+alleinfo[x].naam+"</td>"+
                    "<td>"+moment(alleinfo[x].geboorteDatum).format('DD-MM-YYYY')+"</td>"+
                    "<td>"+alleinfo[x].leerlingnummer+"</td>"+
                    "</tr>";
                    }
                    



                    
                }
            }
            xhr.open("GET","http://localhost:8082/leerlingOverzicht", true);
            xhr.send();
        }
        function adapt(){ 
            document.getElementById("leerlingOproep").innerHTML = ""; 
    
                let xhr = new XMLHttpRequest();
                    xhr.onreadystatechange = function (){
                     console.log(xhr.readyState);
      
                     if (xhr.readyState == 3){
                    var alleinfo = JSON.parse(this.responseText);
                    for(var x = 0; x < alleinfo.length ; x++){
                    //document.getElementById("leerlingOproep").innerHTML += "<div class=mooi>"+alleinfo[x].naam+"</div>";
                    document.getElementById("leerlingOproep").innerHTML += "<button>"+alleinfo[x].naam+"</button><br><br>";
    
                        // var butt = document.createElement("button");
                        // butt.innerHTML=alleinfo[x].naam;
                        // allinfo.appendChild(butt);
                     }
         }
    }
    xhr.open("GET","http://localhost:8082/leerlingOverzicht", true);
    xhr.send();
        }
        function create(){ 
    
    }
    
     </script>
</head>
<body>
    
    <hr><hr>
    <h1>WELKOM IN HET LEERLINGOVERZICHT</h1>
    <p> hier kun je leerlingen bekijken, aanpassen en toevoegen </p>
    <hr><hr>
  
       <input type=button value="toon leerlingen" onclick=herewego() >
       <input type=button value="leerling aanpassen" onclick=adapt() >
  
      <input type=button value="leerling aanmaken" onclick=create() >
  <hr><hr>
          <div id="leerlingOproep">kies menuoptie...</div>
        


          <table border=2 id=tabel>




          </table>




          <div id=selLijst>///////// EINDE////// </div>


</body>
</html>
