<!DOCTYPE html>
<html lang="en">
<head>

    <script src="moment.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        img.editB{
            opacity:0.0;
        }
        img.editB:hover{
            opacity:1.0;
        }
        td{
            font-family: Verdana;
        }
    
    </style>
    <script>
        
        let tabelLatenZien = false;
        
        /*function showEditButton(x){
            document.getElementById("editButton"+x).style.borderColor = "#000000";
            document.getElementById("editButton"+x).style.color = "#000000";
        }

        function hideEditButton(x){
            document.getElementById("editButton"+x).style.borderColor = "#FFFFFF";
            document.getElementById("editButton"+x).style.color = "#FFFFFF";
        }*/
        
        function laatLeerlingenTabelZien(){
        
            if (tabelLatenZien == false){
                document.getElementById("leerlingOproep").innerHTML = ""; 
    
            
                let xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function (){
                    console.log(xhr.readyState);
                    if (xhr.readyState == 3){
                        var alleinfo = JSON.parse(this.responseText);
                        
                        document.getElementById("tabel").innerHTML += "<tr><td><b>Id.</b></td><td><b>Naam</b></td><td><b>Geboortedatum</b></td><td><b>Studentnr.</b></td><td></td></tr>"

                        for(var x = 0; x < alleinfo.length ; x++){
                            document.getElementById("tabel").innerHTML += "<tr>"+
                    
                            "<td>"+alleinfo[x].id+"</td>"+ //IK DENK DAT WE DEZE REGEL WEG MOETEN LATEN. ID IS NUTTELOOS OM TE LATEN ZIEN AAN EEN DOCENT
                            "<td>"+alleinfo[x].naam+"</td>"+
                            "<td>"+moment(alleinfo[x].geboorteDatum).format('DD-MM-YYYY')+"</td>"+
                            "<td>"+alleinfo[x].leerlingnummer+"</td>"+
                            //"<td><input type=button id=editButton"+x+" value='Edit' style='background:transparent; border:none; color:transparent;' onmouseover=showEditButton("+x+") onmouseout=hideEditButton("+x+")></td>"+
                            "<td><img src='EditButton.png' class='editB' id=editButton"+x+" style='height:20px;width20px;'></td>"+
                            "</tr>";
                        }

                        document.getElementById("tabel").innerHTML += "<tr>"+
                        "<td><input type=button value='+Leerling' onclick= ></td></tr>";
                    

                        tabelLatenZien = true;

                    }    
                }
            
        
            xhr.open("GET","http://localhost:8082/leerlingOverzicht", true);
            xhr.send();
            }
        }
        function adapt(){ 
            document.getElementById("leerlingOproep").innerHTML = ""; 
    
                let xhr = new XMLHttpRequest();
                    xhr.onreadystatechange = function (){
                     console.log(xhr.readyState);
      
                     if (xhr.readyState == 3){
                    var alleinfo = JSON.parse(this.responseText);
                    for(var x = 0; x < alleinfo.length ; x++){
                    //document.getElementById("leerlingOproep").innerHTML += "<div class=mooi>"+alleinfo[x].naam+"</div>";
                    document.getElementById("leerlingOproep").innerHTML += "<button>"+alleinfo[x].naam+"</button><br><br>";
    
                        // var butt = document.createElement("button");
                        // butt.innerHTML=alleinfo[x].naam;
                        // allinfo.appendChild(butt);
                     }
         }
    }
    xhr.open("GET","http://localhost:8082/leerlingOverzicht", true);
    xhr.send();
        }
        function create(){ 
    
    }
    
     </script>
</head>
<body>
    
    <hr><hr>
    <h1>WELKOM IN HET LEERLINGOVERZICHT</h1>
    <p> hier kun je leerlingen bekijken, aanpassen en toevoegen </p>
    <hr><hr>
  
       <input type=button value="toon leerlingen" onclick=laatLeerlingenTabelZien() >
       <input type=button value="leerling aanpassen" onclick=adapt() >
  
      <input type=button value="leerling aanmaken" onclick=create() >
  <hr><hr>
          <div id="leerlingOproep">kies menuoptie...</div>
        


          <table border=2 id=tabel>

            




          </table>




          <div id=selLijst>///////// EINDE////// </div>


</body>
</html>
